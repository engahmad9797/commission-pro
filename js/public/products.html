<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>تسجيل الدخول</title>
</head>
<body>
  <h2>تسجيل الدخول</h2>
  <input id="username" placeholder="اسم المستخدم"><br>
  <input id="password" type="password" placeholder="كلمة المرور"><br>
  <button onclick="login()">دخول</button>
  <div id="msg"></div>

  <script>
  async function login() {
    const res = await fetch('/api/login', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({
        username: document.getElementById('username').value,
        password: document.getElementById('password').value
      })
    });
    const data = await res.json();
    if (res.ok) {
      location.href = '/dashboard.html';
    } else {
      document.getElementById('msg').textContent = data.error;
    }
  }
  </script>
</body>
</html>
